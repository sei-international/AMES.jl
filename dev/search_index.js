var documenterSearchIndex = {"docs":
[{"location":"model-outputs/","page":"Output files","title":"Output files","text":"CurrentModule = LEAPMacro","category":"page"},{"location":"model-outputs/#model-outputs","page":"Output files","title":"Output files","text":"","category":"section"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"When Macro is run, it generates several output files in the following folders:","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"otuputs \n└───NAME\n    └───calibration\n    └───[diagnostics]\n    └───results","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"The NAME of the folder under outputs is specified by the output_folder parameter in the configuration file. The diagnostics folder is only present if the report-diagnostics parameter is set to true in the configuration file.","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"Different scenarios can be specified by different configuration files, with different output_folder parameters set. In that case, there will be several folders:","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"otuputs \n└───NAME 1\n    └───calibration\n    └───[diagnostics]\n    └───results\n└───NAME 2\n    └───calibration\n    └───[diagnostics]\n    └───results\n...","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"In addition, Macro writes a log file to the main folder. It is overwritten each time Macro is run, so to save a log file, it should be renamed. However, normally it is not needed to save log files, because they are most useful when developing and debugging a model. If the model fails, then the error message will be written to the log file.","category":"page"},{"location":"model-outputs/#The-diagnostics-folder","page":"Output files","title":"The diagnostics folder","text":"","category":"section"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"When the report-diagnostics parameter is set to true, a variety of diagnostic outputs are reported.","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"One crucial diagnostic indicator is given in the file nonenergy_energy_link_measure.txt. It contains a message like the following:","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"Measure of the significance to the economy of the supply of non-energy goods and services to the energy sector:\nThis value should be small: 3.55%.","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"Whether the estimated parameter is sufficiently small or not depends on the purposes of the analysis. For the Freedonia sample model, it suggests that excluding the demand by the energy sector of non-energy goods and services could lead to a roughly 4% discrepancy.","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"An additional set of files with names such as model_0_2010.txt provide an export of the linear goal program prepared by the Macro model. Examining these files can sometimes be helpful when the log file indicates an error in JuMP (the Julia mathematical programming library). The file offers an explicit formulation of the model, with the estimated parameters:","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"Min 1.7333333333333334 ugap[1] + 0.5333333333333333 ugap[2] + 0.6000000000000001 ugap[3] + ...\nSubject to\n eq_util[1] : ugap[1] + u[1] == 1.0\n eq_util[2] : ugap[2] + u[2] == 1.0\n eq_util[3] : ugap[3] + u[3] == 1.0\n eq_util[4] : ugap[4] + u[4] == 1.0\n...","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"Some of the files provide \"sanity checks\" on the input data. ","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"demand_coefficients.csv: These should sum to a total less than one down the columns\nimported_fraction.csv: These should be less than one\nprofit_margins.csv: These should be greater than 1 but (usually) less than 2\nsupply_fractions.csv: These should sum to one along rows (unless the product is not produced domestically, in which case the sum will be zero)","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"Other files report figures that should be close to, although not necessarily identical to, the corresponding values in the supply-use table. The differences should be explained by Macro compensating for territorial adjustments or stock changes:","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"domestic_production.csv\nexports.csv\nfinal_demand.csv\nimports.csv\ninvestment.csv\nmargins.csv\nsector_output.csv\ntax_rate.csv\ntot_intermediate_demand_all_products.csv\ntot_intermediate_supply_all_sectors.csv\ntot_intermediate_supply_non-energy_sectors.csv: Note that these values will be lower than in the supply-use table due to the excluded energy sectors\nwages.csv","category":"page"},{"location":"model-outputs/#The-calibration-folder","page":"Output files","title":"The calibration folder","text":"","category":"section"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"The files in this folder are generated after further adjustments and a calibration run of the linear goal program. Some of these files can also be used as a \"sanity check\", including:","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"basic_prices_0.csv: These should be close to 1\ncapacity_utilization_0.csv: These should be less than or equal to 1, and most should be close to 1\ncapital_output_ratio_0.csv: These should normally lie between 1 and 4, but may be outside that range\nmargins_neg_0.csv and margins_pos_0.csv: These should sum to the same total\nwage_share_0.csv: These should be less than 1","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"Others of the files in the calibration folder have names similar to the diagnostics folder. The values may be noticeably different due to the adjustments carried out by the Macro model:","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"domestic_production_0.csv\nexports_0.csv\nfinal_demand_0.csv\nimports_0.csv\nsector_output_0.csv\ntot_intermediate_supply_non-energy_sectors_0.csv","category":"page"},{"location":"model-outputs/#The-results-folder","page":"Output files","title":"The results folder","text":"","category":"section"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"The results folder contains the simulation results from the model. Once the model is fully developed, calibrated, and running in practice, this is the most interesting folder to look at.","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"When running with LEAP, the Macro model may be run several times to converge on a consistent set of results. The results folder contains outputs from each of the runs: (Image: Results folder contents)","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"warning: Results cover only non-energy sectors\nThe Macro model reports results only for non-energy sectors. To include all sectors, in the configuration file, assign an empty set to the list of energy sectors and products by setting energy: [] under both excluded_sectors and excluded_products. ","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"Two of the results files (with the run number indicated by #) contain multiple variables:","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"indices_#.csv: The indices that are passed to LEAP, as specified in the configuration file\ncollected_variables_#.csv: A set of key variables, such as the current accounts balance, GDP, and so on","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"Macro is a demand-driven model, so economic growth is driven by final demand, exports net of imports, and investment. Total investment expenditure is reported in collected_variables_#.csv. Final demand, exports, and imports are reported by product:","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"final_demand_#.csv\nexports_#.csv and imports_#.csv","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"Output by sector is reported as actual output and potential output (that is, output at full capacity utilization). The ratio of actual to potential output is capacity utilization, which is reported separately:","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"sector_output_#.csv\npotential_sector_output_#.csv\ncapacity_utilization_#.csv","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"Real value added by sector – that is, sector output less the cost of intermediate goods and services – is also reported:","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"real_value_added_#.csv","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"Investment rates are determined by the autonomous investment rate, the profit rate, capacity utilization, and the interest rate. The autonomous investment rate is an expectation of future growth, which gradually adjusts over time in response to realized growth (that is, the model features \"adaptive expectations\"). The interest rate is reported in collected_variables_#.csv, while the capacity utilization file was listed above. The other relevant files are:","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"profit_rate_#.csv\nautonomous_investment_rate_#.csv","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"Assumptions regarding prices in Macro are fairly simple (see the Limitations of the model). For that reason, prices for different products tend to follow similar trajectories. However, they are reported for completeness:","category":"page"},{"location":"model-outputs/","page":"Output files","title":"Output files","text":"basic_prices_#.csv","category":"page"},{"location":"installation/","page":"Installation","title":"Installation","text":"CurrentModule = LEAPMacro","category":"page"},{"location":"installation/#installation","page":"Installation","title":"Installing LEAP-Macro","text":"","category":"section"},{"location":"installation/","page":"Installation","title":"Installation","text":"LEAP-Macro is installed via GitHub. You must first have a working Julia installation on your computer. The LEAP-Macro team has verified LEAP-Macro's compatibility with Julia 1.6; other versions of Julia may not work correctly.","category":"page"},{"location":"installation/","page":"Installation","title":"Installation","text":"Once Julia is set up, start a Julia session and add the LEAP-Macro package (named LEAPMacro):","category":"page"},{"location":"installation/","page":"Installation","title":"Installation","text":"julia> ]\n\npkg> add https://github.com/sei-international/LEAPMacro","category":"page"},{"location":"installation/","page":"Installation","title":"Installation","text":"This will install the latest LEAP-Macro code from GitHub. To update to the newest code after LEAP-Macro is installed:","category":"page"},{"location":"installation/","page":"Installation","title":"Installation","text":"julia> ]\n\npkg> update LEAPMacro","category":"page"},{"location":"limitations/","page":"Limitations of the model","title":"Limitations of the model","text":"CurrentModule = LEAPMacro","category":"page"},{"location":"limitations/#limitations","page":"Limitations of the model","title":"Limitations of the model","text":"","category":"section"},{"location":"limitations/","page":"Limitations of the model","title":"Limitations of the model","text":"The LEAP-Macro plugin is designed so that a detailed energy systems model, built in LEAP, can be paired with a moderately complex economic model. It is offered as an improvement over simply entering economic drivers by hand. It is most useful in LEAP models that track energy investment costs. In that case, the investment expenditure (in LEAP) helps drive economic activity (in Macro), which then drives energy consumption (in LEAP). The LEAP-Macro plugin will iteratively solve LEAP and Macro until the results converge to within a user-specified tolerance.","category":"page"},{"location":"limitations/","page":"Limitations of the model","title":"Limitations of the model","text":"The goal of making a reasonably flexible model entails some trade-offs. Some of the most important missing elements are listed below.","category":"page"},{"location":"limitations/#terms-of-trade","page":"Limitations of the model","title":"Changes in the terms of trade","text":"","category":"section"},{"location":"limitations/","page":"Limitations of the model","title":"Limitations of the model","text":"The Macro model applies a uniform inflation rate to global prices. For traded goods, whether imports or exports, the model economy is assumed to be a price taker. For domestic goods, prices are determined as a markup on the costs of labor and of intermediate goods.","category":"page"},{"location":"limitations/","page":"Limitations of the model","title":"Limitations of the model","text":"This means that international prices can interact with purely domestic prices through the cost of intermediates. Moreover, the terms of trade can change to the extent that the basket of imported or exported goods changes. However, the model does not allow for changing relative prices for traded goods.","category":"page"},{"location":"limitations/#Current-account-deficits","page":"Limitations of the model","title":"Current account deficits","text":"","category":"section"},{"location":"limitations/","page":"Limitations of the model","title":"Limitations of the model","text":"Most developing countries face chronic challenges with their current account balances and accumulated international debt. A manageable debt obligation can become unmanageable if it is denominated in an international currency and the exchange rate changes, or if the terms of trade turn against the country's exports. If international investors perceive the country as particularly risky, they may withdraw capital or choose to invest elsewhere.","category":"page"},{"location":"limitations/","page":"Limitations of the model","title":"Limitations of the model","text":"While this is an important issue, policies to respond to rising debt or adverse current accounts movements differ between countries, and diverse actors influence the path the economy can take: the executive branch; the central  bank; domestic firms, financial institutions, and individual households; international portfolio investors; and foreign firms.","category":"page"},{"location":"limitations/","page":"Limitations of the model","title":"Limitations of the model","text":"Because of the complexities, the Macro model does not try to estimate international debt and international investor response to debt and current account deficits. However, it does estimate and report the current account balance (for the non-energy economy) in a file called collected_variables_#.csv, where # is the model run number. The reported figures can be used to check the consistency of the scenario. If the balance is persistently negative and, in particular, if the deficit grows faster than GDP, that may contradict the implicit model assumption that international debt and current account deficits are not a problem.","category":"page"},{"location":"limitations/#Sector-specific-employment","page":"Limitations of the model","title":"Sector-specific employment","text":"","category":"section"},{"location":"limitations/","page":"Limitations of the model","title":"Limitations of the model","text":"The Macro model calculates labor productivity and employment indices. They apply at the level of the whole economy, not for individual sectors. That choice was dictated by the highly uneven availability of employment data. However, labor productivity varies substantially between sectors, and as a result the capacity of sectors to absorb labor also varies considerably. If the Macro model indicates specific sectors are declining or expanding, then a more detailed employment analysis might be called for.","category":"page"},{"location":"limitations/#Non-energy-strategic-investment","page":"Limitations of the model","title":"Non-energy strategic investment","text":"","category":"section"},{"location":"limitations/","page":"Limitations of the model","title":"Limitations of the model","text":"The LEAP-Macro model is designed to explore the macroeconomic implications of energy investment. A LEAP model will typically simulate different energy sector strategies, so LEAP-Macro captures the impact of strategic investment in the energy sector. In other sectors, investment is endogenous, based on profitability and capacity utilization. For that reason, the Macro model cannot represent strategic investment in non-energy sectors.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"CurrentModule = LEAPMacro","category":"page"},{"location":"config/#config","page":"Configuration file","title":"Configuration file","text":"","category":"section"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"The configuration file is written in YAML syntax and has a .yml extension. By default, Macro assumes the configuration file will be called LEAPMacro_params.yml, but other names are possible, and in fact encouraged, because each configuration file corresponds to a different scenario.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"The configuration file is made up of several blocks. This overview will cover a few of them. More detail is available in the page on preparing a configuration file.","category":"page"},{"location":"config/#High-level-settings","page":"Configuration file","title":"High-level settings","text":"","category":"section"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"The first block names a subfolder for storing outputs. It will be created inside an outputs folder. Different configuration files should be given different output folders so that different scenarios can be distinguished.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"#---------------------------------------------------------------------------\n# Folder inside the \"outputs\" folder to store calibration, results, and diagnostics\n#---------------------------------------------------------------------------\noutput_folder: DEFAULT","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"The next block specifies the input files. In many cases, these will be the same across a set of scenarios. However, it is possible that they might differ. For example, the supply-use table, given by the SUT parameter, could be drawn from different years for calibration purposes, and different time_series might distinguish different scenarios.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"#---------------------------------------------------------------------------\n# Supply-use table and supplementary tables as CSV files\n#---------------------------------------------------------------------------\n# Macro model data files\nfiles:\n    SUT: Freedonia_SUT.csv\n    sector_info: sector_parameters.csv\n    product_info: product_parameters.csv\n    time_series: time_series.csv","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"The following block says how to manage the output folders. Reporting diagnostics is optional. It is highly recommended while developing a model, but report-diagnostics can be set to false for a model in active use. Ordinarily it is useful to clear the folders with each run, since files will be overwritten. Sometimes during model development it is useful set clear-folders to false temporarily. Output files from one run can be renamed, so they are not overwritten in a subsequent run and the results compared.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"# Say whether to clear the contents of the results, calibration, and diagnostic folders before the run\nclear-folders:\n    results: true\n    calibration: true\n    diagnostics: true\n# Set to \"true\" to send results to the diagnostics folder, including dumps of the linear goal program\nreport-diagnostics: true","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"The next block sets the start and end years for the simulation. These should normally be the same as the base year and final year in LEAP, and the start year should be appropriate for the supply-use table. However, during model development, the start year might be set to an earlier value to calibrate against historical data. Also, the end year can be set closer to the start year, but Macro normally runs quickly, so that is rarely necessary for performance.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"#---------------------------------------------------------------------------\n# Start and end years for the simulation\n#   Note: the supply-use table above must be appropriate for the start year\n#---------------------------------------------------------------------------\nyears:\n    start:  2010\n    end:    2040","category":"page"},{"location":"config/#Linking-to-the-supply-use-table","page":"Configuration file","title":"Linking to the supply-use table","text":"","category":"section"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"The following several blocks contain technical parameters. These are described in more detail in the page on preparing a configuration file.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"Farther down the table is the block for specifying the structure of the supply-use table and how it relates to Macro.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"The first section of this block specifies sectors and products that are excluded from the simulation. There are three categories:","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"First, and most important, are energy sectors and products. Those are excluded from the Macro calculation because the energy sector analysis is handled on a physical basis within LEAP.\nSecond are any territorial adjustments. Macro recalculates some parameters to take account of those entries. If none are present in the supply-use table, then an empty list [] can be entered for this parameter, as in the sample Freedonia model.\nFinally are any other excluded sectors and products. For example, some tables may have a \"fictitious\" product or sector entry.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"#---------------------------------------------------------------------------\n# Structure of the supply-use table\n#---------------------------------------------------------------------------\n# NOTE: Both supply and use tables must have sectors labeling columns and products labeling rows\nexcluded_sectors:\n    energy: [coal, petr, util]\n    territorial_adjustment: []\n    others: []\n\nexcluded_products:\n    energy: [coal, petr, util]\n    territorial_adjustment: []\n    others: []","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"Following that is a list of non-tradeable products and a domestic production share threshold. Imports and exports of products declared non-tradeable are maintained at zero within the Macro model. Furthermore, their prices are determined endogenously by the Macro model.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"Other products may be almost entirely imported. That can sometimes cause difficulties. If the domestic share of the total of imports and domestic production falls below the threshold specified in the configuration file, then the corresponding sector is excluded during the simulation.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"non_tradeable_products: [constr, comm]\n\n# Domestic production as a % share of the total of imports and domestic production must exceed this value\ndomestic_production_share_threshold: 1 # percent","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"The following section specifies where to find the data needed by Macro within the supply-use table (a CSV file). Ranges are specified in standard spreadsheet form.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"SUT_ranges:\n    # Matrices arranged product (rows) x sector (columns)\n    supply_table: J3:W16\n    use_table: J21:W34\n    # Columns indexed by products -- groups of columns will be summed together\n    tot_supply: I3:I16\n    margins: D3:E16\n    taxes: F3:H16\n    imports: Y3:Y16\n    exports: Y21:Y34\n    final_demand: Z21:AB34\n    investment: AC21:AC34\n    stock_change: AD21:AD34\n    tot_intermediate_supply: X21:X34\n    # Rows indexed by sector -- groups of rows will be summed together\n    tot_intermediate_demand: J35:W35\n    wages: J37:W38","category":"page"},{"location":"config/#Linking-Macro-to-LEAP","page":"Configuration file","title":"Linking Macro to LEAP","text":"","category":"section"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"The next, and final, block specifies how LEAP and Macro are linked.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"The first section says which LEAP scenario to use for inputs to the Macro model, the LEAP scenario to which Macro returns its results, and currency unit for investment costs, and a scaling factor. For example, if entries in the Macro model input files are in millions of US dollars, and investment costs are reported in US dollars, then the scaling factor is one million (1000000 or 1.0e+6).","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"#---------------------------------------------------------------------------\n# Parameters for running LEAP with the Macro model (LEAP-Macro)\n#---------------------------------------------------------------------------\nLEAP-info:\n    # This can be, e.g., a baseline scenario\n    input_scenario: Baseline\n    # This is the scenario from which LEAP results are drawn\n    result_scenario: Baseline\n    # Currency units for investment costs\n    inv_costs_unit: U.S. Dollar\n    # Scaling factor for investment costs (values are divided by this number, e.g., for thousands use 1000 or 1.0e+3)\n    inv_costs_scale: 1.0e+6","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"The remaining sections specify where in LEAP to put indices as calculated by Macro. The indices start at 1 in the start year specified earlier in the configuration file.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"The first index, which is optional, is for GDP. It gives the name for the index to be reported in an indices output file. Then, it gives the LEAP branch and variable where the index should be inserted and, to cover cases where the last historical year is after the base year, the last historical year.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"# Association between LEAP and supply-use sectors\nGDP-branch:\n    name: GDP\n    branch: Key\\GDP\n    variable: Activity Level\n    last_historical_year: 2010","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"The second index, for employment, is also optional. It has the same structure as for GDP.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"Employment-branch:\n    name: Employment\n    branch: Key\\Employment\n    variable: Activity Level\n    last_historical_year: 2010","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"Finally, the LEAP-sectors parameter contains a list of indices. For each of these, Macro will sum up sector production across all of the sector codes listed. It will then calculate an index starting in the base year, and insert the index into the specified branches. In some cases, the same index might be applied to different branches. For example, if the supply-use table has a \"services\" sector but no transport, while LEAP has both a services and a commercial transport sector, the same index could be used to drive both.","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"While the GDP and Employment entries can be omitted from the file if they are not needed, to exclude the LEAP-sectors entry, simply set it to an empty list: LEAP-sectors: [].","category":"page"},{"location":"config/","page":"Configuration file","title":"Configuration file","text":"LEAP-sectors:\n - {\n    name: Iron and Steel,\n    codes: [ironstl],\n    branches: [\n        {\n         branch: Demand\\Industry\\Iron and Steel,\n         variable: Activity Level,\n         last_historical_year: 2010\n        }\n    ]\n   }\n - {\n    name: Other Industry,\n    codes: [foodpr, hvymach, othind],\n    branches: [\n        {\n         branch: Demand\\Industry\\Other Industry,\n         variable: Activity Level,\n         last_historical_year: 2010\n        }\n    ]\n   }\n   ...","category":"page"},{"location":"prep-params/","page":"Preparing exogenous parameters","title":"Preparing exogenous parameters","text":"CurrentModule = LEAPMacro","category":"page"},{"location":"prep-params/#prep-params","page":"Preparing exogenous parameters","title":"Preparing exogenous parameters","text":"","category":"section"},{"location":"prep-sut/","page":"Preparing supply-use tables","title":"Preparing supply-use tables","text":"CurrentModule = LEAPMacro","category":"page"},{"location":"prep-sut/#prep-sut","page":"Preparing supply-use tables","title":"Preparing supply-use tables","text":"","category":"section"},{"location":"lgp/","page":"Linear goal program","title":"Linear goal program","text":"CurrentModule = LEAPMacro","category":"page"},{"location":"lgp/#lgp","page":"Linear goal program","title":"Linear goal program","text":"","category":"section"},{"location":"troubleshoot/","page":"Troubleshooting","title":"Troubleshooting","text":"CurrentModule = LEAPMacro","category":"page"},{"location":"troubleshoot/#troubleshoot","page":"Troubleshooting","title":"Troubleshooting","text":"","category":"section"},{"location":"calib/","page":"Calibrating the model","title":"Calibrating the model","text":"CurrentModule = LEAPMacro","category":"page"},{"location":"calib/#calib","page":"Calibrating the model","title":"Calibrating the model","text":"","category":"section"},{"location":"prep-config/","page":"Preparing the configuration file","title":"Preparing the configuration file","text":"CurrentModule = LEAPMacro","category":"page"},{"location":"prep-config/#prep-config","page":"Preparing the configuration file","title":"Preparing the configuration file","text":"","category":"section"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"CurrentModule = LEAPMacro","category":"page"},{"location":"demand-led-growth/#demand-led-growth","page":"About demand-led growth","title":"About demand-led growth","text":"","category":"section"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"Macro is a demand-led growth model.[1] In such models, the growth rate of the economy is endogenous. That is, it is determined by the model's own dynamics. Firms are assumed to invest in new productive capacity because they anticipate future demand. They base their assessment on past growth, profitability, and the utilization rate of their current capacity. Once they decide to buy new machinery, equipment, and buildings – that is, new capital – those purchases add to total demand.","category":"page"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"In demand-led growth models, capacity utilization is a key adjusting variable. If firms' expectations are not met, then their capacity utilization will be either below or above what they anticipated. If demand is high and they are already producing at capacity, then they will be unable to satisfy all of the demand, and imports may rise.","category":"page"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"Demand-led growth models can be contrasted with the more common supply-led growth models, in which growth is determined by the supply of savings. Savings are converted into investment and expanded production capacity. That capacity is presumed to be fully used, so capacity utilization is not an adjusting variable. Instead, prices adjust to clear markets.","category":"page"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"Prices may be treated with greater or lesser sophistication in demand-led models, but they play a less central role. In general, demand is considered to be more responsive to income than to price, and firms are assumed to set prices by mark-up.","category":"page"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"[1]: E.g., see https://www.e-elgar.com/shop/usd/the-economics-of-demand-led-growth-9781840641776.html The Economics of Demand-Led Growth by Mark Setterfield","category":"page"},{"location":"demand-led-growth/#Demand-in-the-Macro-model","page":"About demand-led growth","title":"Demand in the Macro model","text":"","category":"section"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"Demand in the Macro model comes from three sources: final demand (made up of households, non-profits serving households, and government); exports net of imports; and investment expenditure.","category":"page"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"Final demand is assumed to grow with total wages, adjusted by an elasticity for each product. So, for example, household demand for processed food in a developing country might rise faster than household demand for agricultural produce as wages rise. The particularly simple structure of final demand in the model means that wages are a proxy for all components of final demand, including by government.","category":"page"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"Exports are driven by global GDP growth, adjusted by an elasticity for each product. If global demand for a country's products is expected to grow particularly fast, for example from export promotion policies, then the elasticity can be set to a high value.","category":"page"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"Imports are calculated in the model based on patterns seen in the supply-use tables but adjusted in order to meet the goals in the linear goal program.","category":"page"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"Investment expenditure is calculated endogenously within the model. Investment rates depend on profitability, the past growth trajectory, capacity utilization, and the (simulated) interest rate set by the central bank.","category":"page"},{"location":"demand-led-growth/#Prices-in-the-macro-model","page":"About demand-led growth","title":"Prices in the macro model","text":"","category":"section"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"Four prices appear in the Macro model:","category":"page"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"World prices for traded goods and services\nDomestic prices for non-traded goods and services\nWages\nThe central bank rate","category":"page"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"World prices for goods and services are treated very simply: all prices rise at the same inflation rate. While this is an acknowledged limitation of the model, it reduces the number of parameters the model developer must set and simplifies the application of the LEAP-Macro plugin in a LEAP model.","category":"page"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"Domestic prices for goods and services are determined as a mark-up on cost of labor and intermediate inputs. Because intermediate input costs enter the calculation, and some of those inputs will typically be imported, domestic prices tend to track world prices in the model.","category":"page"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"Wages rise more or less in proportion to inflation (with a proportionality factor set in the configuration file) and in response to the difference between the growth rate of the demand for labor and the growth rate of the working-age population, which is set in the time_series.csv parameter file.","category":"page"},{"location":"demand-led-growth/","page":"About demand-led growth","title":"About demand-led growth","text":"The central bank rate is set using a Taylor rule-type bank reaction function. The interest rate rises when the economy grows faster than a target and falls when it grows more slowly. It also rises when inflation exceeds a target and falls when inflation is below the target. The parameters are set in the configuration file.","category":"page"},{"location":"leap-macro-link/","page":"LEAP-Macro link","title":"LEAP-Macro link","text":"CurrentModule = LEAPMacro","category":"page"},{"location":"leap-macro-link/#leap-macro-link","page":"LEAP-Macro link","title":"LEAP-Macro link","text":"","category":"section"},{"location":"leap-macro-link/","page":"LEAP-Macro link","title":"LEAP-Macro link","text":"The link between the LEAP energy model and the Macro economic model is shown in the diagram below. Nearly all of the development of each model can be done separately. That allows energy experts to work on LEAP and economists to work on Macro, collaborating only where the models interact. The combined model is solved iteratively.","category":"page"},{"location":"leap-macro-link/","page":"LEAP-Macro link","title":"LEAP-Macro link","text":"The Macro model is run first, generating economic activity levels as inputs to LEAP. LEAP is then run to determine needed investment in energy supply, demand for primary energy sources, and trade in energy carriers. LEAP’s investment demand is an input to the Macro model. The Macro model is run again, and the iteration proceeds until the maximum percent difference in economic activity levels in subsequent runs falls below a user-specified tolerance. In practice, only a few iterations (2 to 3) should be sufficient.","category":"page"},{"location":"leap-macro-link/","page":"LEAP-Macro link","title":"LEAP-Macro link","text":"(Image: The LEAP-Macro process diagram)","category":"page"},{"location":"leap-macro-link/","page":"LEAP-Macro link","title":"LEAP-Macro link","text":"The Macro model requires a supply-use table and some parameter files as inputs, as well as a configuration file. The LEAP-Macro link is managed through the configuration file. This documentation contains an overview of the configuration file as well as instructions for preparing the configuration file.","category":"page"},{"location":"quickstart/","page":"Quickstart","title":"Quickstart","text":"CurrentModule = LEAPMacro","category":"page"},{"location":"quickstart/#quick-start","page":"Quickstart","title":"Quick start","text":"","category":"section"},{"location":"quickstart/","page":"Quickstart","title":"Quickstart","text":"This documentation explains how to quickly run Macro without linking it to LEAP. To learn how to run Macro with LEAP, see the LEAP exercise for the LEAP-Macro plugin available to registered users on the LEAP website.","category":"page"},{"location":"quickstart/","page":"Quickstart","title":"Quickstart","text":"The quickest way to get started with Macro is by running the demonstration model that is part of the GitHub distribution.","category":"page"},{"location":"quickstart/","page":"Quickstart","title":"Quickstart","text":"<p>First, <a href=\"https://downgit.github.io/#/home?url=https://github.com/sei-international/LEAPMacro/tree/main/test&rootDirectory=false\" target=\"_blank\">Download the demonstration files</a> as a zip file from GitHub and save it to the folder of your choice. (Clicking on the link will open a new window, where the zip file can be downloaded.)</p>","category":"page"},{"location":"quickstart/","page":"Quickstart","title":"Quickstart","text":"Next:","category":"page"},{"location":"quickstart/","page":"Quickstart","title":"Quickstart","text":"Unzip the test.zip file\nGo the folder where you unzipped it (it will have a file in it named LEAPMacro_params.yml)\nStart Julia and run the demo model:","category":"page"},{"location":"quickstart/","page":"Quickstart","title":"Quickstart","text":"julia> import LEAPMacro\n\njulia> LEAPMacro.run()\nMacro model run (0)...completed\n0","category":"page"},{"location":"quickstart/","page":"Quickstart","title":"Quickstart","text":"If you see Macro model run (0)...completed followed by 0 then the model ran without any errors.","category":"page"},{"location":"quickstart/","page":"Quickstart","title":"Quickstart","text":"All of the interesting output is in files. You should see a new file called LEAPMacro_log.txt and a new outputs folder.","category":"page"},{"location":"quickstart/#The-log-file","page":"Quickstart","title":"The log file","text":"","category":"section"},{"location":"quickstart/","page":"Quickstart","title":"Quickstart","text":"The log file should show something like:","category":"page"},{"location":"quickstart/","page":"Quickstart","title":"Quickstart","text":"[ Info: 2022-03-25T11:55:23.846\n[ Info: Configuration file: 'LEAPMacro_params.yml'\n[ Info: Macro model run (0)...\n[ Info: Loading data...\n[ Info: Preparing model...\n[ Info: Calibrating: FEASIBLE_POINT\n[ Info: Running from 2010 to 2040:\n[ Info: Simulating for 2010: FEASIBLE_POINT\n[ Info: Simulating for 2011: FEASIBLE_POINT\n[ Info: Simulating for 2012: FEASIBLE_POINT\n[ Info: Simulating for 2013: FEASIBLE_POINT\n[ Info: Simulating for 2014: FEASIBLE_POINT\n[ Info: Simulating for 2015: FEASIBLE_POINT\n...\n[ Info: Simulating for 2035: FEASIBLE_POINT\n[ Info: Simulating for 2036: FEASIBLE_POINT\n[ Info: Simulating for 2037: FEASIBLE_POINT\n[ Info: Simulating for 2038: FEASIBLE_POINT\n[ Info: Simulating for 2039: FEASIBLE_POINT\n[ Info: Simulating for 2040: FEASIBLE_POINT\n[ Info: 2022-03-25T11:55:57.797","category":"page"},{"location":"quickstart/","page":"Quickstart","title":"Quickstart","text":"The time stamps at the start and end show that the model ran in 34 seconds. The repeated FEASIBLE_POINT for each year means that the model in each year yielded a feasible solution to the linear program.","category":"page"},{"location":"quickstart/#The-outputs-folder","page":"Quickstart","title":"The outputs folder","text":"","category":"section"},{"location":"quickstart/","page":"Quickstart","title":"Quickstart","text":"The outputs folder should have a subfolder called DEFAULT. Inside that folder are three other folders, with CSV files containing diagnostic information and the results of the model run:","category":"page"},{"location":"quickstart/","page":"Quickstart","title":"Quickstart","text":"otuputs \n└───DEFAULT\n    └───calibration\n        │   basic_prices_0.csv\n        │   capacity_utilization_0.csv\n        │   ...\n        │   wage_share_0.csv\n    └───diagnostics\n        │   demand_coefficients.csv\n        │   domestic_production.csv\n        │   ...\n        │   wages.csv\n    └───results\n        │   basic_prices_0.csv\n        │   capacity_utilization_0.csv\n        │   ...\n        │   sector_output_0.csv","category":"page"},{"location":"quickstart/","page":"Quickstart","title":"Quickstart","text":"There is a great deal of information in the files. The configuration file and the output files are described in greater detail elsewhere in this documentation.","category":"page"},{"location":"link-to-leap/","page":"Linking to LEAP","title":"Linking to LEAP","text":"CurrentModule = LEAPMacro","category":"page"},{"location":"link-to-leap/#link-to-leap","page":"Linking to LEAP","title":"Linking to LEAP","text":"","category":"section"},{"location":"dynamics/","page":"Dynamics","title":"Dynamics","text":"CurrentModule = LEAPMacro","category":"page"},{"location":"dynamics/#dynamics","page":"Dynamics","title":"Dynamics","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"CurrentModule = LEAPMacro","category":"page"},{"location":"#introduction","page":"Introduction","title":"LEAP-Macro","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"This documentation explains how to use LEAP-Macro to build a linked energy-economic model.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"The energy system in a LEAP-Macro application is represented in LEAP, the Low Emissions Analysis Platform. The economy is represented in a macroeconomic model called Macro. This documentation will explain how to build a Macro model and link LEAP to Macro, but not how to build the LEAP model.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"tip: Learning about LEAP\nTo learn how to build LEAP models, go to the LEAP website to access documentation and other learning materials.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"LEAP-Macro is a demand-led growth model for an open, multi-sector economy. It takes supply-use tables[1] or social accounting matrices[2] as inputs. It is a flexible model that can be adapted to specific country circumstances.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"LEAP-Macro was developed with two purposes in mind:","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"To provide economic drivers to LEAP that are grounded in the structure of the economy;\nTo estimate the impact of different energy investment scenarios on output and employment outside the energy sector.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"What is more, it is intended to be used in a wide range of contexts. To meet these goals, some compromises had to be made while developing the model. These are summarized in Limitations of the model.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"To simplify model development and maintenance, LEAP-Macro assumes that energy is a crucial input into the rest of the economy, but is not a major source of demand for the products and services supplied by the rest of the economy. That is true for most countries, but is not true for major energy exporters. If energy production dominates GDP or employment, then a fully integrated energy-economy model would be more appropriate.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"[1]: https://unstats.un.org/unsd/nationalaccount/docs/SUT_IOT_HB_Final_Cover.pdf Handbook on Supply and Use Tables and Input-Output Tables with Extensions and Applications from UN Statistics","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"[2]: https://www.ifpri.org/publication/social-accounting-matrices-and-multiplier-analysis Social accounting matrices and multiplier analysis: An introduction with exercises from the International Food Policy Research Institute","category":"page"}]
}
